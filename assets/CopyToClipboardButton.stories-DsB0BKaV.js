import{j as x}from"./jsx-runtime-Cf8x2fCZ.js";import{g as S,r as q}from"./index-DbAYB8d_.js";import"./index-yBjzXJbu.js";var C,T;function N(){return T||(T=1,C=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var a=document.activeElement,i=[],s=0;s<e.rangeCount;s++)i.push(e.getRangeAt(s));switch(a.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":a.blur();break;default:a=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||i.forEach(function(u){e.addRange(u)}),a&&a.focus()}}),C}var v,h;function B(){if(h)return v;h=1;var e=N(),a={"text/plain":"Text","text/html":"Url",default:"Text"},i="Copy to clipboard: #{key}, Enter";function s(n){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,t)}function u(n,t){var r,p,m,l,d,o,b=!1;t||(t={}),r=t.debug||!1;try{m=e(),l=document.createRange(),d=document.getSelection(),o=document.createElement("span"),o.textContent=n,o.ariaHidden="true",o.style.all="unset",o.style.position="fixed",o.style.top=0,o.style.clip="rect(0, 0, 0, 0)",o.style.whiteSpace="pre",o.style.webkitUserSelect="text",o.style.MozUserSelect="text",o.style.msUserSelect="text",o.style.userSelect="text",o.addEventListener("copy",function(c){if(c.stopPropagation(),t.format)if(c.preventDefault(),typeof c.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var g=a[t.format]||a.default;window.clipboardData.setData(g,n)}else c.clipboardData.clearData(),c.clipboardData.setData(t.format,n);t.onCopy&&(c.preventDefault(),t.onCopy(c.clipboardData))}),document.body.appendChild(o),l.selectNodeContents(o),d.addRange(l);var R=document.execCommand("copy");if(!R)throw new Error("copy command was unsuccessful");b=!0}catch(c){r&&console.error("unable to copy using execCommand: ",c),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",n),t.onCopy&&t.onCopy(window.clipboardData),b=!0}catch(g){r&&console.error("unable to copy using clipboardData: ",g),r&&console.error("falling back to prompt"),p=s("message"in t?t.message:i),window.prompt(p,n)}}finally{d&&(typeof d.removeRange=="function"?d.removeRange(l):d.removeAllRanges()),o&&document.body.removeChild(o),m()}return b}return v=u,v}var _=B();const k=S(_),A={copy:"bi-clipboard","question-circle":"bi-question-circle-fill",spinner:"spinner-border",search:"bi-search"},I={"bootstrap-icons":A};function j(e,a){return I[a??"bootstrap-icons"][e]}function y({text:e,format:a,copiedProps:i,defaultText:s,copiedText:u,iconSet:n,...t}){const[r,p]=q.useState(!1),m=()=>{r||(p(!0),window.setTimeout(()=>{p(!1)},2e3))},l=()=>{k(e,{format:a})&&m()};return x.jsxs("button",{...t,...r?i||{}:{},onClick:l,children:[x.jsx("i",{className:j("copy",n)})," ",r?u||"Copied!":s||"Copy to clipboard"]})}try{y.displayName="CopyToClipboardButton",y.__docgenInfo={description:"",displayName:"CopyToClipboardButton",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"string | undefined"}},copiedProps:{defaultValue:null,description:"",name:"copiedProps",required:!1,type:{name:"HTMLAttributes<HTMLButtonElement> | undefined"}},defaultText:{defaultValue:null,description:"",name:"defaultText",required:!1,type:{name:"ReactNode | ReactNode[]"}},copiedText:{defaultValue:null,description:"",name:"copiedText",required:!1,type:{name:"ReactNode | ReactNode[]"}},iconSet:{defaultValue:null,description:"",name:"iconSet",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"bootstrap-icons"'}]}}}}}catch{}const M={title:"Buttons/CopyToClipboardButton",component:y,argTypes:{},parameters:{docs:{description:{component:'A `<button>` tag which, when clicked, will copy some specified text to the\n        user\'s clipboard, and then display a message (by default, "Copied!").'}}}},U=e=>x.jsx(y,{...e}),f=U.bind({});f.args={text:"This is the text copied to the clipboard by the button.",className:"btn btn-secondary"};var w,D,E;f.parameters={...f.parameters,docs:{...(w=f.parameters)==null?void 0:w.docs,source:{originalSource:"args => <CopyToClipboardButton {...args} />",...(E=(D=f.parameters)==null?void 0:D.docs)==null?void 0:E.source}}};const H=["Basic"];export{f as Basic,H as __namedExportsOrder,M as default};
